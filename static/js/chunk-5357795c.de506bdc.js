(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5357795c"],{1427:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.title}},[a("el-input",{attrs:{placeholder:"请输入",clearable:!0,maxlength:e.number,"show-word-limit":""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)},i=[],r={components:{},props:{title:{type:String,default:""},model:{type:String,default:""},number:{type:String,default:""},maxlength:{type:String,default:""},prop:{type:Array}},data:function(){return{input:""}},computed:{},watch:{input:{handler:function(e,t){this.$emit("update:model",e)}}},created:function(){},mounted:function(){},methods:{}},o=r,l=(a("e773"),a("2877")),s=Object(l["a"])(o,n,i,!1,null,"490c980f",null);t["a"]=s.exports},"1e92":function(e,t,a){},"22a1":function(e,t,a){},"57eb":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[e._t("default")],2)],1)},i=[],r={components:{},props:{title:{type:String,required:!0},visible:{type:Boolean,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{handleClose:function(){this.$emit("update:visible",!1)}}},o=r,l=a("2877"),s=Object(l["a"])(o,n,i,!1,null,"3051db4d",null);t["a"]=s.exports},7217:function(e,t,a){"use strict";a("22a1")},"8e16":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.img?e._e():a("el-table-column",{attrs:{prop:e.label,label:e.title,type:e.type,index:e.indexmethod}},[e._t("default")],2),e.img?a("el-table-column",{attrs:{prop:e.label,label:e.title,type:e.type,index:e.indexmethod},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.skuImage}})]}}],null,!1,3073901032)}):e._e()],1)},i=[],r={components:{},props:{title:{type:String,required:!1},label:{type:String,required:!1},type:{type:String,required:!1},pag:{type:String},img:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{indexmethod:function(e){return this.pag+e-9}}},o=r,l=a("2877"),s=Object(l["a"])(o,n,i,!1,null,"be37c312",null);t["a"]=s.exports},ab94:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-button",{staticClass:"search",class:e.color,attrs:{disabled:e.disable,type:"primary",icon:e.icon},nativeOn:{click:function(t){return e.btn(t)}}},[e._v(e._s(e.title))])},i=[],r={components:{},props:{color:{type:String,default:"search"},title:{type:String,default:"搜索"},icon:{type:String,default:"icon"},disable:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{btn:function(){this.$emit("click")}}},o=r,l=(a("7217"),a("2877")),s=Object(l["a"])(o,n,i,!1,null,"53ec6d56",null);t["a"]=s.exports},ac79:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"l",(function(){return s})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"d",(function(){return p}));var n=a("b775"),i=function(e){return Object(n["a"])({url:"/api/vm-service/region/search",params:e})},r=function(e){return Object(n["a"])({url:"/api/vm-service/region",method:"POST",data:e})},o=function(e,t){return Object(n["a"])({url:"/api/vm-service/region/"+t,method:"PUT",data:e})},l=function(e){return Object(n["a"])({url:"/api/vm-service/region/"+e,method:"DELETE"})},s=function(e){return Object(n["a"])({url:"/api/vm-service/node/search",params:e})},c=function(e){return Object(n["a"])({url:"/api/vm-service/node",method:"POST",data:e})},u=function(e){return Object(n["a"])({url:"/api/user-service/partner/search",params:e})},d=function(){return Object(n["a"])({url:"/api/vm-service/businessType"})},m=function(e){return Object(n["a"])({url:"/api/vm-service/node/vmList/"+e})},f=function(e,t){return Object(n["a"])({url:"/api/vm-service/node/"+t,method:"PUT",data:e})},p=function(e){return Object(n["a"])({url:"/api/vm-service/node/"+e,method:"DELETE"})}},af23:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"regionalManagement"},[a("div",{staticClass:"top"},[a("el-form",{staticClass:"form",attrs:{"label-position":"right","label-width":"80px"}},[a("search",{attrs:{title:"区域搜索:",model:e.searchContent},on:{"update:model":function(t){e.searchContent=t}}}),a("lsButton",{attrs:{icon:"el-icon-search",size:"mini",title:"查询"},on:{click:function(t){return e.getAreaList()}}})],1)],1),a("div",{staticClass:"new"},[a("lsButton",{attrs:{icon:"el-icon-circle-plus-outline",size:"mini",title:"新建",color:"addBtn"},on:{click:e.newClick}}),a("el-table",{ref:"aabb",attrs:{data:e.regionalManagementData.currentPageRecords}},[a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"viewDetails",attrs:{type:"text"},on:{click:function(a){return e.viewDetailsClick(t.row)}}},[e._v("查看详情")]),a("el-button",{staticClass:"modify",attrs:{type:"text"},on:{click:function(a){return e.modifyClick(t.row)}}},[e._v("修改")]),a("el-button",{staticClass:"del",attrs:{type:"text"},on:{click:function(a){return e.delClick(t.row)}}},[e._v("删除")])]}}])}),a("tableColumn",{attrs:{title:"序号",type:"index",pag:e.regionalManagementData.pageIndex}}),a("tableColumn",{attrs:{title:"区域名称",label:"name"}}),a("tableColumn",{attrs:{title:"点位数",label:"nodeCount"}}),a("tableColumn",{attrs:{title:"备注说明",label:"remark"}})],1),a("el-dialog",{staticClass:"newDialog",attrs:{visible:e.dialogVisible,width:"50%","before-close":e.handleClose,title:e.dialogShow?"新增点位":"修改点位"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.formData,rules:e.formRules,"label-width":"100px"}},[a("div",{staticClass:"zoneName"},[a("el-form-item",{attrs:{label:"区域名称",prop:"regionName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.formData.regionName,callback:function(t){e.$set(e.formData,"regionName",t)},expression:"formData.regionName"}})],1)],1),a("div",{staticClass:"remarks"},[a("el-form-item",{attrs:{label:"备注说明",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注(不超过40字)",maxlength:"40","show-word-limit":""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("div",{staticClass:"dialogButton"},[a("lsButton",{attrs:{size:"mini",title:"取消",color:"cancel"},on:{click:e.onClose}}),a("lsButton",{attrs:{size:"mini",title:"确认",color:"addBtn"},on:{click:e.onSave}})],1)])],1),a("Dialog",{staticClass:"newDialog",attrs:{visible:e.dialogVisible1,title:"区域详情"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[a("p",[e._v(" 区域名称："),a("span",[e._v(e._s(e.zoneName))])]),a("div",{staticClass:"pointPosition"},[a("span",[e._v("包含点位：")]),a("el-table",{ref:"aabb",attrs:{"empty-text":"暂无数据",data:e.areaDetailsList.currentPageRecords}},[a("tableColumn",{attrs:{title:"设备数量",label:"vmCount"}}),a("tableColumn",{attrs:{title:"序号",type:"index",pag:e.regionalManagementData.pageIndex}}),a("tableColumn",{attrs:{title:"点位名称",label:"name"}})],1)],1)])],1),a("div",{staticClass:"bottom"},[a("div",{staticClass:"left"},[a("span",[e._v("共"),a("span",[e._v(e._s(e.regionalManagementData.totalCount))]),e._v("条记录")]),a("span",[e._v("第"),a("span",[e._v(e._s(e.regionalManagementData.pageIndex))]),e._v("/"),a("span",[e._v(e._s(e.regionalManagementData.totalPage))]),e._v("页")])]),a("div",{staticClass:"right"},[a("lsButton",{staticClass:"previousPage",attrs:{id:"previousPage",size:"mini",title:"上一页",color:"addBtn",disable:e.disable},on:{click:e.previousPageClick}}),a("lsButton",{staticClass:"nextPage",attrs:{id:"nextPage",size:"mini",title:"下一页",disable:e.disable1,color:"addBtn"},on:{click:e.nextPageClick}})],1)])])},i=[],r=a("c7eb"),o=a("1da1"),l=(a("b0c0"),a("1427")),s=a("ab94"),c=a("ac79"),u=a("8e16"),d=a("57eb"),m={components:{search:l["a"],lsButton:s["a"],tableColumn:u["a"],Dialog:d["a"]},data:function(){return{regionalManagementData:{},areaDetailsList:{},zoneName:"",pageIndex:1,disable:!1,disable1:!1,searchContent:"",dialogVisible:!1,dialogVisible1:!1,text:"",formData:{regionName:"",remark:""},formRules:{regionName:[{required:!0,message:"请输入区域名称",trigger:"blur"}],remark:[{required:!0,message:"请输入备注说明",trigger:"blur"}]},dialogShow:!0,modifyId:""}},computed:{},watch:{},created:function(){this.getAreaList()},mounted:function(){},methods:{getAreaList:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["a"])({pageIndex:e.pageIndex,name:e.searchContent});case 2:a=t.sent,n=a.data,e.regionalManagementData=n,console.log(e.regionalManagementData);case 6:case"end":return t.stop()}}),t)})))()},previousPageClick:function(){this.pageIndex<2?this.disable=!0:(this.pageIndex--,this.getAreaList(),document.getElementById("nextPage").disabled=!1)},nextPageClick:function(){this.pageIndex>=this.regionalManagementData.totalPage?this.disable1=!0:(this.pageIndex++,this.getAreaList(),this.disable=!1)},handleClose:function(){this.$refs.form.resetFields(),this.dialogVisible=!1},onClose:function(){this.handleClose()},onSave:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.dialogShow){t.next=11;break}return t.next=3,e.$refs.form.validate();case 3:return t.next=5,Object(c["i"])(e.formData);case 5:a=t.sent,console.log(a),e.$message.success("新增区域成功"),e.dialogVisible=!1,t.next=18;break;case 11:return t.next=13,Object(c["g"])(e.formData,e.modifyId);case 13:n=t.sent,console.log(n),e.$message.success("修改区域成功"),e.dialogVisible=!1,e.getAreaList();case 18:e.formData.regionName="",e.formData.remark="";case 20:case"end":return t.stop()}}),t)})))()},newClick:function(){this.dialogVisible=!0,this.dialogShow=!0},viewDetailsClick:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),t.zoneName=e.name,t.dialogVisible1=!0,a.next=5,Object(c["l"])({regionId:e.id});case 5:n=a.sent,t.areaDetailsList=n.data,console.log(n.data);case 8:case"end":return a.stop()}}),a)})))()},modifyClick:function(e){this.formData.regionName=e.name,this.formData.remark=e.remark,this.dialogVisible=!0,this.dialogShow=!1,this.modifyId=e.id},delClick:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["c"])(e.id);case 2:n=a.sent,console.log(n),t.getAreaList();case 5:case"end":return a.stop()}}),a)})))()}}},f=m,p=(a("e915"),a("2877")),b=Object(p["a"])(f,n,i,!1,null,"432742b0",null);t["default"]=b.exports},c314:function(e,t,a){},e773:function(e,t,a){"use strict";a("1e92")},e915:function(e,t,a){"use strict";a("c314")}}]);