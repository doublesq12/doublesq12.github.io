(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22f4c041"],{"22a1":function(t,e,n){},2510:function(t,e,n){},"2b69":function(t,e,n){},"4df4":function(t,e,n){"use strict";var a=n("0366"),i=n("7b0b"),c=n("9bdd"),r=n("e95a"),o=n("50c4"),s=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,d,f,p,h=i(t),m="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,x=l(h),y=0;if(g&&(b=a(b,v>2?arguments[2]:void 0,2)),void 0==x||m==Array&&r(x))for(e=o(h.length),n=new m(e);e>y;y++)p=g?b(h[y],y):h[y],s(n,y,p);else for(d=x.call(h),f=d.next,n=new m;!(u=f.call(d)).done;y++)p=g?c(d,b,[u.value,y],!0):u.value,s(n,y,p);return n.length=y,n}},"57eb":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.title,visible:t.visible,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[t._t("default")],2)],1)},i=[],c={components:{},props:{title:{type:String,required:!0},visible:{type:Boolean,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{handleClose:function(){this.$emit("update:visible",!1)}}},r=c,o=n("2877"),s=Object(o["a"])(r,a,i,!1,null,"3051db4d",null);e["a"]=s.exports},"5fbd3":function(t,e,n){},6062:function(t,e,n){"use strict";var a=n("6d61"),i=n("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var a=n("9bf2").f,i=n("7c73"),c=n("e2cc"),r=n("0366"),o=n("19aa"),s=n("2266"),l=n("7dd0"),u=n("2626"),d=n("83ab"),f=n("f183").fastKey,p=n("69f3"),h=p.set,m=p.getterFor;t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,a){o(t,u,e),h(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=a&&s(a,t[l],t,n)})),p=m(e),v=function(t,e,n){var a,i,c=p(t),r=b(t,e);return r?r.value=n:(c.last=r={index:i=f(e,!0),key:e,value:n,previous:a=c.last,next:void 0,removed:!1},c.first||(c.first=r),a&&(a.next=r),d?c.size++:t.size++,"F"!==i&&(c.index[i]=r)),t},b=function(t,e){var n,a=p(t),i=f(e);if("F"!==i)return a.index[i];for(n=a.first;n;n=n.next)if(n.key==e)return n};return c(u.prototype,{clear:function(){var t=this,e=p(t),n=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),a=b(e,t);if(a){var i=a.next,c=a.previous;delete n.index[a.index],a.removed=!0,c&&(c.next=i),i&&(i.previous=c),n.first==a&&(n.first=i),n.last==a&&(n.last=c),d?n.size--:e.size--}return!!a},forEach:function(t){var e,n=p(this),a=r(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),c(u.prototype,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),d&&a(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(t,e,n){var a=e+" Iterator",i=m(e),c=m(a);l(t,e,(function(t,e){h(this,{type:a,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=c(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"6d61":function(t,e,n){"use strict";var a=n("23e7"),i=n("da84"),c=n("94ca"),r=n("6eeb"),o=n("f183"),s=n("2266"),l=n("19aa"),u=n("861d"),d=n("d039"),f=n("1c7e"),p=n("d44e"),h=n("7156");t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),b=m?"set":"add",g=i[t],x=g&&g.prototype,y=g,j={},O=function(t){var e=x[t];r(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(c(t,"function"!=typeof g||!(v||x.forEach&&!d((function(){(new g).entries().next()})))))y=n.getConstructor(e,t,m,b),o.REQUIRED=!0;else if(c(t,!0)){var k=new y,T=k[b](v?{}:-0,1)!=k,w=d((function(){k.has(1)})),C=f((function(t){new g(t)})),I=!v&&d((function(){var t=new g,e=5;while(e--)t[b](e,e);return!t.has(-0)}));C||(y=e((function(e,n){l(e,y,t);var a=h(new g,e,y);return void 0!=n&&s(n,a[b],a,m),a})),y.prototype=x,x.constructor=y),(w||I)&&(O("delete"),O("has"),m&&O("get")),(I||T)&&O(b),v&&x.clear&&delete x.clear}return j[t]=y,a({global:!0,forced:y!=g},j),p(y,t),v||n.setStrong(y,t,m),y}},7154:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return d}));n("99af");var a=n("b775"),i=function(t){return Object(a["a"])({url:"/api/vm-service/policy/search",params:t})},c=function(t){return Object(a["a"])({url:"/api/vm-service/policy/".concat(t),method:"DELETE"})},r=function(t){return Object(a["a"])({url:"/api/vm-service/policy",method:"POST",data:t})},o=function(t,e){return Object(a["a"])({url:"/api/vm-service/policy/".concat(e),method:"PUT",data:t})},s=function(t){return Object(a["a"])({url:"/api/vm-service/policy/vmPolicy/"+t})},l=function(t,e){return Object(a["a"])({method:"PUT",url:"/api/vm-service/vm/cancelPolicy/".concat(t,"/").concat(e)})},u=function(t,e){return Object(a["a"])({url:"/api/vm-service/policy/vmList/".concat(t),params:e})},d=function(t){return Object(a["a"])({url:"/api/order-service/order/search",params:t})}},7156:function(t,e,n){var a=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var c,r;return i&&"function"==typeof(c=e.constructor)&&c!==n&&a(r=c.prototype)&&r!==n.prototype&&i(t,r),t}},7217:function(t,e,n){"use strict";n("22a1")},"74e4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"form",attrs:{"label-width":"80px",inline:!0}},[n("el-form-item",{attrs:{label:t.label}},[n("el-input",{staticStyle:{width:"206px"},attrs:{placeholder:"请输入"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),n("Button",{staticClass:"query-btn",attrs:{icon:"el-icon-search",title:"查询",color:"#5f84ff"},on:{click:t.query}})],1)],1)],1)},i=[],c=n("ab94"),r={components:{Button:c["a"]},props:{label:{type:String}},data:function(){return{code:""}},created:function(){},methods:{query:function(){this.$emit("click",this.code)}}},o=r,s=(n("d4bf"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"399fbe76",null);e["a"]=l.exports},"77d2":function(t,e,n){"use strict";n.d(e,"k",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"a",(function(){return v}));n("99af");var a=n("b775"),i=function(t){return Object(a["a"])({url:"/api/vm-service/vm/search",params:t})},c=function(t,e,n,i){return Object(a["a"])({url:"/api/order-service/report/skuCollect/".concat(t,"/").concat(e,"/").concat(n),params:i})},r=function(t,e,n,i){return Object(a["a"])({url:"/api/task-service/task/repairCount/".concat(t,"/").concat(e,"/").concat(n),params:i})},o=function(t,e,n,i){return Object(a["a"])({url:"/api/task-service/task/supplyCount/".concat(t,"/").concat(e,"/").concat(n),params:i})},s=function(t){return Object(a["a"])({url:"/api/vm-service/vmType/search",params:t})},l=function(t){return Object(a["a"])({method:"POST",url:"/api/vm-service/vmType",data:t})},u=function(t){return Object(a["a"])({method:"DELETE",url:"/api/vm-service/vmType/"+t})},d=function(t,e){return Object(a["a"])({method:"PUT",url:"/api/vm-service/vmType/"+t,data:e})},f=function(t){return Object(a["a"])({url:"/api/vm-service/channel/channelList/"+t})},p=function(t){return Object(a["a"])({url:"/api/vm-service/policy",params:t})},h=function(t,e){return Object(a["a"])({method:"PUT",url:"/api/vm-service/vm/applyPolicy",data:{innerCodeList:t,policyId:e}})},m=function(t,e){return Object(a["a"])({method:"PUT",url:"/api/vm-service/vm/".concat(t,"/").concat(e)})},v=function(t){return Object(a["a"])({method:"POST",url:"/api/vm-service/vm",data:t})}},7896:function(t,e,n){"use strict";n("2b69")},"7acf":function(t,e,n){},"858a":function(t,e,n){"use strict";n("8ea6")},"8ea6":function(t,e,n){},"99af":function(t,e,n){"use strict";var a=n("23e7"),i=n("d039"),c=n("e8b5"),r=n("861d"),o=n("7b0b"),s=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=d("concat"),x=function(t){if(!r(t))return!1;var e=t[h];return void 0!==e?!!e:c(t)},y=!b||!g;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,a,i,c,r=o(this),d=u(r,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(c=-1===e?r:arguments[e],x(c)){if(i=s(c.length),f+i>m)throw TypeError(v);for(n=0;n<i;n++,f++)n in c&&l(d,f,c[n])}else{if(f>=m)throw TypeError(v);l(d,f++,c)}return d.length=f,d}})},a630:function(t,e,n){var a=n("23e7"),i=n("4df4"),c=n("1c7e"),r=!c((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:r},{from:i})},ab94:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-button",{staticClass:"search",class:t.color,attrs:{disabled:t.disable,type:"primary",icon:t.icon},nativeOn:{click:function(e){return t.btn(e)}}},[t._v(t._s(t.title))])},i=[],c={components:{},props:{color:{type:String,default:"search"},title:{type:String,default:"搜索"},icon:{type:String,default:"icon"},disable:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{btn:function(){this.$emit("click")}}},r=c,o=(n("7217"),n("2877")),s=Object(o["a"])(r,a,i,!1,null,"53ec6d56",null);e["a"]=s.exports},ac79:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"i",(function(){return c})),n.d(e,"g",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"l",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"d",(function(){return h}));var a=n("b775"),i=function(t){return Object(a["a"])({url:"/api/vm-service/region/search",params:t})},c=function(t){return Object(a["a"])({url:"/api/vm-service/region",method:"POST",data:t})},r=function(t,e){return Object(a["a"])({url:"/api/vm-service/region/"+e,method:"PUT",data:t})},o=function(t){return Object(a["a"])({url:"/api/vm-service/region/"+t,method:"DELETE"})},s=function(t){return Object(a["a"])({url:"/api/vm-service/node/search",params:t})},l=function(t){return Object(a["a"])({url:"/api/vm-service/node",method:"POST",data:t})},u=function(t){return Object(a["a"])({url:"/api/user-service/partner/search",params:t})},d=function(){return Object(a["a"])({url:"/api/vm-service/businessType"})},f=function(t){return Object(a["a"])({url:"/api/vm-service/node/vmList/"+t})},p=function(t,e){return Object(a["a"])({url:"/api/vm-service/node/"+e,method:"PUT",data:t})},h=function(t){return Object(a["a"])({url:"/api/vm-service/node/"+t,method:"DELETE"})}},af57:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("StateTop",{attrs:{label:"设备编号"},on:{click:t.query}}),n("Button",{attrs:{color:"addBtn",title:"新建",icon:"el-icon-circle-plus-outline"},on:{click:t.addMachine}}),n("Button",{attrs:{color:"config",title:"批量操作"},on:{click:t.moreMachine}}),n("div",{staticClass:"main"},[n("el-table",{attrs:{data:t.tableData,fit:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号"}}),n("el-table-column",{attrs:{prop:"innerCode",label:"设备编号"}}),n("el-table-column",{attrs:{prop:"type.name",label:"设备型号"}}),n("el-table-column",{attrs:{prop:"node.name",label:"详细地址"}}),n("el-table-column",{attrs:{prop:"ownerName",label:"合作商"}}),n("el-table-column",{attrs:{prop:"vmStatus",label:"设备状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s({0:"未投放",1:"运营",3:"撤机"}[e.row.vmStatus])+" ")]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("button",{staticClass:"operate",on:{click:function(n){return t.machineRoad(e.row)}}},[t._v(" 货道 ")]),n("button",{staticClass:"operate",on:{click:function(n){return t.machineTactics(e.row)}}},[t._v(" 策略 ")]),n("button",{staticClass:"operate",on:{click:function(n){return t.fixmachine(e.row)}}},[t._v("修改")])]}}])})],1)],1),n("el-dialog",{attrs:{title:"货道设置",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-row",{staticClass:"machineRoadTop",attrs:{type:"flex",justify:"space-around",align:"middle"}},[n("el-col",{attrs:{span:6}},[t._v("货道行数："+t._s(t.machineRoadInfo.vmRow))]),n("el-col",{attrs:{span:6}},[t._v("货道列数："+t._s(t.machineRoadInfo.vmCol))]),n("el-col",{attrs:{span:6}},[t._v("货道容量（个）: "+t._s(t.machineRoadInfo.channelMaxCapacity))]),n("el-col",{attrs:{span:6}},[n("Button",{attrs:{title:"智能排货"}})],1)],1),n("div",{staticClass:"machineGoods"},[n("div",{ref:"scrollContent",staticClass:"machineGoods-content",staticStyle:{transform:"translateX()"}},t._l(t.machineRoadList,(function(e){return n("div",{key:e.channelId,staticClass:"item"},[n("div",{staticClass:"code"},[t._v(t._s(e.channelCode))]),n("div",{staticClass:"context"},[e.sku?n("img",{attrs:{src:e.sku.skuImage,alt:""}}):t._e(),e.sku?n("div",{staticClass:"text"},[t._v(t._s(e.sku.skuName))]):t._e()]),n("div",{staticClass:"addAndDel"},[n("button",{staticClass:"add"},[t._v("添加")]),n("button",{staticClass:"del"},[t._v("删除")])])])})),0),n("div",{staticClass:"left-jiantou"},[n("span",{staticClass:"el-icon-arrow-left",on:{click:t.leftScroll}})]),n("div",{staticClass:"right-jiantou"},[n("span",{staticClass:"el-icon-arrow-right",on:{click:t.rightScroll}})])]),n("div",{staticClass:"bottom-btn"},[n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),t.machineTacticsNameFlag?n("manasgeTacticsCheck",{attrs:{dialogTactics:t.dialogTactics,machineTacticsName:t.machineTacticsName},on:{"on-change":t.changedialogTactics,canceltactic:this.getmachineList}}):n("manasgeTactics",{attrs:{dialogTactics:t.dialogTactics,tacticsList:t.tacticsList,machineTacticsCode:t.machineTacticsCode},on:{"on-change":t.changedialogTactics,checktactics:this.getmachineList}}),n("el-dialog",{attrs:{title:"修改设备",visible:t.fixDialog,width:"50%"},on:{"update:visible":function(e){t.fixDialog=e}}},[n("fixMachineDialog",{attrs:{fixMachineInfo:t.fixMachineInfo,fixPointInfo:t.fixPointInfo},on:{callFix:function(e){t.fixDialog=!1},addFix:t.addFix}})],1),n("el-dialog",{attrs:{title:"新增设备",visible:t.addMachineDialog,width:"50%"},on:{"update:visible":function(e){t.addMachineDialog=e}}},[n("addMachine",{attrs:{addTypeInfo:t.addTypeInfo,addPointInfo:t.addPointInfo}})],1),n("StateBottom",{attrs:{pageInfo:t.pageInfo},on:{lastPage:t.lastPage,nextPage:t.nextPage}})],1)},i=[],c=n("c7eb"),r=n("1da1"),o=(n("d3b7"),n("159b"),n("a630"),n("3ca3"),n("6062"),n("ddb0"),n("b0c0"),n("74e4")),s=n("c4d8"),l=n("57eb"),u=n("ab94"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"批量策略管理",visible:t.visible2},on:{"update:visible":function(e){t.visible2=e}}},[n("el-form",{ref:"form",staticClass:"dialog-form",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"选择策略"}},[n("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择策略管理"},model:{value:t.checkTactics,callback:function(e){t.checkTactics=e},expression:"checkTactics"}},t._l(t.tacticsList,(function(t){return n("el-option",{key:t.policyId,attrs:{label:t.policyName,value:t.policyId}})})),1)],1)],1),n("div",{staticClass:"bottom-btn"},[n("Button",{attrs:{color:"config",title:"取消"},on:{click:t.callMachine}}),n("Button",{attrs:{color:"addBtn",title:"确认"},on:{click:t.addMachine}})],1)],1)},f=[],p=n("77d2"),h={components:{Dialog:l["a"],Button:u["a"]},props:{dialogTactics:{type:Boolean,default:!1},tacticsList:{type:Array,required:!0},machineTacticsCode:{type:Array}},data:function(){return{checkTactics:""}},created:function(){},methods:{callMachine:function(){this.visible2=!1},addMachine:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["m"])(t.machineTacticsCode,t.checkTactics);case 2:t.$emit("checktactics"),t.visible2=!1,t.$message.success("策略选择成功");case 5:case"end":return e.stop()}}),e)})))()}},computed:{visible2:{get:function(){return this.dialogTactics},set:function(t){this.$emit("on-change",t)}}}},m=h,v=(n("f6c4"),n("2877")),b=Object(v["a"])(m,d,f,!1,null,"3e2821de",null),g=b.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{title:"策略管理",visible:t.visible2},on:{"update:visible":function(e){t.visible2=e}}},[n("div",{staticClass:"content-text"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"text"},[t._v("机器编号："+t._s(t.machineTacticsName.innerCode))])]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"text"},[t._v("策略名称："+t._s(t.machineTacticsName.policyName))])]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"text"},[t._v("策略方案："+t._s(t.machineTacticsName.discount)+"%")])])],1)],1),n("div",{staticClass:"bottom-btn"},[n("Button",{attrs:{color:"config",title:"取消策略"},on:{click:t.cancelTactics}})],1)])},y=[],j=n("7154"),O={components:{Dialog:l["a"],Button:u["a"]},props:{dialogTactics:{type:Boolean,default:!1},machineTacticsName:{type:Object,default:{}}},data:function(){return{checkTactics:""}},created:function(){},methods:{cancelTactics:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["d"])(t.machineTacticsName.innerCode,t.machineTacticsName.policyId);case 2:t.$emit("canceltactic"),t.visible2=!1,t.$message.success("取消策略成功");case 5:case"end":return e.stop()}}),e)})))()}},computed:{visible2:{get:function(){return this.dialogTactics},set:function(t){this.$emit("on-change",t)}}}},k=O,T=(n("ecf8"),Object(v["a"])(k,x,y,!1,null,"ec258ab6",null)),w=T.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form",attrs:{"label-width":"150px"}},[n("el-form-item",{attrs:{label:"机器编号"}},[t._v(t._s(t.fixMachineInfo.innerCode))]),n("el-form-item",{attrs:{label:"供货时间"}},[t._v(t._s(t.fixMachineInfo.lastSupplyTime))]),n("el-form-item",{attrs:{label:"设备类型"}},[t._v(t._s(t.fixMachineInfo.type.name))]),n("el-form-item",{attrs:{label:"设备容量"}},[t._v(t._s(t.fixMachineInfo.type.channelMaxCapacity))]),n("el-form-item",{attrs:{label:"设备点位"}},[n("el-select",{attrs:{placeholder:t.fixMachineInfo.node.name},model:{value:t.point,callback:function(e){t.point=e},expression:"point"}},t._l(t.fixPointInfo,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),n("el-form-item",{attrs:{label:"合作商"}},[t._v(t._s(t.fixMachineInfo.ownerName))]),n("el-form-item",{attrs:{label:"所属区域"}},[t._v(t._s(t.fixMachineInfo.node.region.name))]),n("el-form-item",{attrs:{label:"设备地址"}},[t._v(t._s(t.fixMachineInfo.node.name))])],1),n("div",{staticClass:"bottom-btn"},[n("Button",{attrs:{color:"config",title:"取消"},on:{click:t.callFix}}),n("Button",{attrs:{color:"addBtn",title:"确认"},on:{click:t.addFix}})],1)],1)},I=[],_={components:{Button:u["a"]},props:{fixMachineInfo:{type:Object,required:!0},fixPointInfo:{type:Array,required:!0}},data:function(){return{point:""}},created:function(){},methods:{callFix:function(){this.$emit("callFix")},addFix:function(){this.$emit("addFix",this.fixMachineInfo.id,this.point)}}},M=_,P=(n("7896"),Object(v["a"])(M,C,I,!1,null,"cc944128",null)),S=P.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form",attrs:{model:t.addMachineInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"设备编号"}},[t._v(" 系统自动生成 ")]),n("el-form-item",{attrs:{label:"选择型号"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addMachineInfo.vmType,callback:function(e){t.$set(t.addMachineInfo,"vmType",e)},expression:"addMachineInfo.vmType"}},t._l(t.addTypeInfo,(function(t){return n("el-option",{key:t.typeId,attrs:{label:t.name,value:t.typeId}})})),1)],1),n("el-form-item",{attrs:{label:"选择点位"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addMachineInfo.nodeId,callback:function(e){t.$set(t.addMachineInfo,"nodeId",e)},expression:"addMachineInfo.nodeId"}},t._l(t.addPointInfo,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),n("div",{staticClass:"bottom-btn"},[n("Button",{attrs:{color:"config",title:"取消"},on:{click:t.calladd}}),n("Button",{attrs:{color:"addBtn",title:"确认"},on:{click:t.addadd}})],1)],1)},D=[],B=n("5530"),$={components:{Button:u["a"]},props:{addTypeInfo:{type:Array,required:!0},addPointInfo:{type:Array,required:!0}},data:function(){return{addMachineInfo:{vmType:"",nodeId:""}}},created:function(){},methods:{calladd:function(){console.log(1)},addadd:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["a"])(Object(B["a"])(Object(B["a"])({},t.addMachineInfo),{},{createUserId:1}));case 3:t.$message.success("新增售货机成功"),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},L=$,R=(n("c603"),Object(v["a"])(L,E,D,!1,null,"7b5d5f33",null)),N=R.exports,F=n("ac79"),A={components:{StateTop:o["a"],Button:u["a"],StateBottom:s["a"],Dialog:l["a"],manasgeTactics:g,manasgeTacticsCheck:w,fixMachineDialog:S,addMachine:N},data:function(){return{tableData:[{innerCode:"",type:"",node:"",ownerName:"",vmStatus:""}],multipleSelection:[],checkMultipleSelection:[],page:1,pageInfo:{},dialogVisible:!1,checkTactics:"",dialogTactics:!1,machineRoadInfo:{},machineRoadList:[],tacticsList:[],machineTacticsName:{},machineTacticsCode:[],fixDialog:!1,fixMachineInfo:{},fixPointInfo:[],addMachineDialog:!1,addTypeInfo:[],addPointInfo:[]}},created:function(){this.getmachineList()},methods:{indexMethod:function(t){return t+1},query:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,Object(p["k"])({innerCode:t});case 3:a=n.sent,e.tableData=a.data.currentPageRecords;case 5:case"end":return n.stop()}}),n)})))()},addMachine:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var n,a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addMachineDialog=!0,e.next=3,Object(p["i"])();case 3:return n=e.sent,e.next=6,Object(F["getAreaDetails"])();case 6:a=e.sent,t.addTypeInfo=n.data.currentPageRecords,t.addPointInfo=a.data.currentPageRecords,console.log(a);case 10:case"end":return e.stop()}}),e)})))()},moreMachine:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.multipleSelection.length){e.next=9;break}return t.machineTacticsName="",e.next=4,Object(p["j"])();case 4:n=e.sent,t.tacticsList=n.data,t.dialogTactics=!0,e.next=10;break;case 9:t.$message.warning("请勾选售货机");case 10:case"end":return e.stop()}}),e)})))()},handleSelectionChange:function(t){var e=this;this.multipleSelection=t,this.multipleSelection.forEach((function(t){e.checkMultipleSelection.push(t.innerCode)})),this.machineTacticsCode=Array.from(new Set(this.checkMultipleSelection)),console.log(this.machineTacticsCode)},getmachineList:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["k"])({pageIndex:t.page});case 2:n=e.sent,t.tableData=n.data.currentPageRecords,t.pageInfo=n.data;case 5:case"end":return e.stop()}}),e)})))()},machineRoad:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a,i;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dialogVisible=!0,n.next=3,Object(p["h"])(t.innerCode);case 3:return a=n.sent,n.next=6,Object(p["i"])({name:t.type.name});case 6:i=n.sent,e.machineRoadList=a.data,e.machineRoadInfo=i.data.currentPageRecords[0];case 9:case"end":return n.stop()}}),n)})))()},machineTactics:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a,i;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(p["j"])({innerCodeList:t.innerCode});case 2:return a=n.sent,e.tacticsList=a.data,n.next=6,Object(j["g"])(t.innerCode);case 6:i=n.sent,e.machineTacticsName=i.data,e.machineTacticsCode.push(t.innerCode),e.dialogTactics=!0;case 10:case"end":return n.stop()}}),n)})))()},changedialogTactics:function(t){this.dialogTactics=t},fixmachine:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.fixDialog=!0,e.fixMachineInfo=t,n.next=4,Object(F["getAreaDetails"])();case 4:a=n.sent,console.log(t),e.fixPointInfo=a.data.currentPageRecords;case 7:case"end":return n.stop()}}),n)})))()},addFix:function(t,e){var n=this;return Object(r["a"])(Object(c["a"])().mark((function a(){return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(p["d"])(t,e);case 3:n.$message.success("点位修改成功"),a.next=8;break;case 6:a.prev=6,a.t0=a["catch"](0);case 8:case"end":return a.stop()}}),a,null,[[0,6]])})))()},lastPage:function(){this.page--,this.getmachineList()},nextPage:function(){this.page++,this.getmachineList()},leftScroll:function(){this.$refs.scrollContent.style.transform="translateX(0)"},rightScroll:function(){this.$refs.scrollContent.style.transform="translateX(-850px)"}},computed:{machineTacticsNameFlag:function(){return!!this.machineTacticsName}}},q=A,z=(n("b30d"),Object(v["a"])(q,a,i,!1,null,"acd5b516",null));e["default"]=z.exports},b30d:function(t,e,n){"use strict";n("7acf")},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c4d8:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom"},[n("div",{staticClass:"left"},[t._v(" 共"+t._s(t.pageInfo.totalCount)+"条数据 第"+t._s(t.pageInfo.pageIndex)+"/"+t._s(t.pageInfo.totalPage)+"页 ")]),n("div",{staticClass:"right"},[n("Button",{attrs:{color:"#d5ddf8",title:"上一页",disabled:t.disabled},on:{click:t.lastPage}}),n("Button",{attrs:{color:"#d5ddf8",title:"下一页",disabled:t.disabled2},on:{click:t.nextPage}})],1)])},i=[],c=n("ab94"),r={components:{Button:c["a"]},props:{pageInfo:{type:Object,required:!0}},data:function(){return{disabled:!1,disabled2:!1}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}}},o=r,s=(n("858a"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"3b780c16",null);e["a"]=l.exports},c4ee:function(t,e,n){},c603:function(t,e,n){"use strict";n("c4ee")},d4bf:function(t,e,n){"use strict";n("5fbd3")},df9f:function(t,e,n){},ecf8:function(t,e,n){"use strict";n("2510")},f183:function(t,e,n){var a=n("d012"),i=n("861d"),c=n("5135"),r=n("9bf2").f,o=n("90e3"),s=n("bb2f"),l=o("meta"),u=0,d=Object.isExtensible||function(){return!0},f=function(t){r(t,l,{value:{objectID:"O"+ ++u,weakData:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,l)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},h=function(t,e){if(!c(t,l)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},m=function(t){return s&&v.REQUIRED&&d(t)&&!c(t,l)&&f(t),t},v=t.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:m};a[l]=!0},f6c4:function(t,e,n){"use strict";n("df9f")}}]);