(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17d33e1d"],{"14c3":function(t,e,n){var r=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"22a1":function(t,e,n){},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),c=n("50c4"),s=n("a691"),o=n("1d80"),u=n("8aa5"),l=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var h=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,y=h?"$":"$0";return[function(n,r){var a=o(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!h&&g||"string"===typeof r&&-1===r.indexOf(y)){var i=n(e,t,this,r);if(i.done)return i.value}var o=a(t),p=String(this),v="function"===typeof r;v||(r=String(r));var b=o.global;if(b){var O=o.unicode;o.lastIndex=0}var j=[];while(1){var _=l(o,p);if(null===_)break;if(j.push(_),!b)break;var w=String(_[0]);""===w&&(o.lastIndex=u(p,c(o.lastIndex),O))}for(var C="",E=0,S=0;S<j.length;S++){_=j[S];for(var k=String(_[0]),T=d(f(s(_.index),p.length),0),I=[],P=1;P<_.length;P++)I.push(m(_[P]));var D=_.groups;if(v){var $=[k].concat(I,T,p);void 0!==D&&$.push(D);var Y=String(r.apply(void 0,$))}else Y=x(k,p,T,I,D,r);T>=E&&(C+=p.slice(E,T)+Y,E=T+k.length)}return C+p.slice(E)}];function x(t,n,r,a,c,s){var o=r+t.length,u=a.length,l=b;return void 0!==c&&(c=i(c),l=v),e.call(s,l,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(o);case"<":s=c[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>u){var d=p(l/10);return 0===d?e:d<=u?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):e}s=a[l-1]}return void 0===s?"":s}))}}))},"57eb":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.title,visible:t.visible,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[t._t("default")],2)],1)},a=[],i={components:{},props:{title:{type:String,required:!0},visible:{type:Boolean,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{handleClose:function(){this.$emit("update:visible",!1)}}},c=i,s=n("2877"),o=Object(s["a"])(c,r,a,!1,null,"3051db4d",null);e["a"]=o.exports},"5fbd3":function(t,e,n){},7217:function(t,e,n){"use strict";n("22a1")},"74e4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"form",attrs:{"label-width":"80px",inline:!0}},[n("el-form-item",{attrs:{label:t.label}},[n("el-input",{staticStyle:{width:"206px"},attrs:{placeholder:"请输入"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),n("Button",{staticClass:"query-btn",attrs:{icon:"el-icon-search",title:"查询",color:"#5f84ff"},on:{click:t.query}})],1)],1)],1)},a=[],i=n("ab94"),c={components:{Button:i["a"]},props:{label:{type:String}},data:function(){return{code:""}},created:function(){},methods:{query:function(){this.$emit("click",this.code)}}},s=c,o=(n("d4bf"),n("2877")),u=Object(o["a"])(s,r,a,!1,null,"399fbe76",null);e["a"]=u.exports},"77d2":function(t,e,n){"use strict";n.d(e,"k",(function(){return a})),n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"l",(function(){return s})),n.d(e,"i",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"m",(function(){return v})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return m}));n("99af");var r=n("b775"),a=function(t){return Object(r["a"])({url:"/api/vm-service/vm/search",params:t})},i=function(t,e,n,a){return Object(r["a"])({url:"/api/order-service/report/skuCollect/".concat(t,"/").concat(e,"/").concat(n),params:a})},c=function(t,e,n,a){return Object(r["a"])({url:"/api/task-service/task/repairCount/".concat(t,"/").concat(e,"/").concat(n),params:a})},s=function(t,e,n,a){return Object(r["a"])({url:"/api/task-service/task/supplyCount/".concat(t,"/").concat(e,"/").concat(n),params:a})},o=function(t){return Object(r["a"])({url:"/api/vm-service/vmType/search",params:t})},u=function(t){return Object(r["a"])({method:"POST",url:"/api/vm-service/vmType",data:t})},l=function(t){return Object(r["a"])({method:"DELETE",url:"/api/vm-service/vmType/"+t})},d=function(t,e){return Object(r["a"])({method:"PUT",url:"/api/vm-service/vmType/"+t,data:e})},f=function(t){return Object(r["a"])({url:"/api/vm-service/channel/channelList/"+t})},p=function(t){return Object(r["a"])({url:"/api/vm-service/policy",params:t})},v=function(t,e){return Object(r["a"])({method:"PUT",url:"/api/vm-service/vm/applyPolicy",data:{innerCodeList:t,policyId:e}})},b=function(t,e){return Object(r["a"])({method:"PUT",url:"/api/vm-service/vm/".concat(t,"/").concat(e)})},m=function(t){return Object(r["a"])({method:"POST",url:"/api/vm-service/vm",data:t})}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),c=n("861d"),s=n("7b0b"),o=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),v=f("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",h=p>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=d("concat"),y=function(t){if(!c(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},x=!h||!g;r({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,r,a,i,c=s(this),d=l(c,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?c:arguments[e],y(i)){if(a=o(i.length),f+a>b)throw TypeError(m);for(n=0;n<a;n++,f++)n in i&&u(d,f,i[n])}else{if(f>=b)throw TypeError(m);u(d,f++,i)}return d.length=f,d}})},"9c69":function(t,e,n){"use strict";n("e1d8")},ab94:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-button",{staticClass:"search",class:t.color,attrs:{disabled:t.disable,type:"primary",icon:t.icon},nativeOn:{click:function(e){return t.btn(e)}}},[t._v(t._s(t.title))])},a=[],i={components:{},props:{color:{type:String,default:"search"},title:{type:String,default:"搜索"},icon:{type:String,default:"icon"},disable:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{btn:function(){this.$emit("click")}}},c=i,s=(n("7217"),n("2877")),o=Object(s["a"])(c,r,a,!1,null,"53ec6d56",null);e["a"]=o.exports},d4bf:function(t,e,n){"use strict";n("5fbd3")},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),i=n("b622"),c=n("9263"),s=n("9112"),o=i("species"),u=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var v=i(t),b=!a((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),m=b&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!b||!m||"replace"===t&&(!u||!l||f)||"split"===t&&!p){var h=/./[v],g=n(v,""[t],(function(t,e,n,r,a){return e.exec===c?b&&!a?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=g[0],x=g[1];r(String.prototype,t,y),r(RegExp.prototype,v,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}d&&s(RegExp.prototype[v],"sham",!0)}},e1d8:function(t,e,n){},fafe:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("StateTop",{attrs:{label:"设备编号 : "},on:{click:t.query}}),n("div",{staticClass:"main"},[n("el-table",{attrs:{data:t.tableData,fit:""}},[n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号"}}),n("el-table-column",{attrs:{prop:"innerCode",label:"设备编号"}}),n("el-table-column",{attrs:{prop:"type.name",label:"设备型号"}}),n("el-table-column",{attrs:{prop:"node.name",label:"详细地址"}}),n("el-table-column",{attrs:{prop:"vmStatus",label:"运营状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s({0:"未投放",1:"运营",3:"撤机"}[e.row.vmStatus])+" ")]}}])}),n("el-table-column",{attrs:{prop:"status",label:"设备状态",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"vm-status"},[n("div",{staticClass:"item",class:{"item-false":!e.row.status[10001]}},[t._v(" 离线 ")]),n("div",{staticClass:"item",class:{"item-false":!e.row.status[10002]}},[t._v(" 货道 ")]),n("div",{staticClass:"item",class:{"item-false":!e.row.status[10003]}},[t._v(" 转动轴 ")])])]}}])}),n("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.details(e.row)}}},[t._v("查看详情")])]}}])})],1),n("Dialog",{attrs:{title:"设备详情",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[n("el-row",{attrs:{justify:"space-around",align:"middle"}},[n("el-col",{attrs:{span:6}},[t._v("销售量："+t._s(t.allOrderCount))]),n("el-col",{attrs:{span:7}},[t._v("销售额："+t._s(t.allorderAmount))]),n("el-col",{attrs:{span:5}},[t._v("补货次数："+t._s(t.supplyNum)+"次")]),n("el-col",{attrs:{span:6}},[t._v("维修次数："+t._s(t.fixNum)+"次")])],1),n("div",{staticClass:"mid-title"},[t._v("商品销量（月）")]),n("el-row",t._l(t.goodsSalesList,(function(e,r){return n("el-col",{key:r,attrs:{span:6}},[n("div",{staticClass:"sales"},[n("div",{staticClass:"left"},[t._v(t._s(e.skuName)+" ：")]),n("div",{staticClass:"right"},[t._v(t._s(e.count))])])])})),1)],1)],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"left"},[t._v(" 共"+t._s(t.pageInfo.totalCount)+"条数据 第"+t._s(t.pageInfo.pageIndex)+"/"+t._s(t.pageInfo.totalPage)+"页 ")]),n("div",{staticClass:"right"},[n("Button",{attrs:{color:"#d5ddf8",title:"上一页",disable:t.disabled},on:{click:t.lastPage}}),n("Button",{attrs:{color:"#d5ddf8",title:"下一页",disable:t.disabled2},on:{click:t.nextPage}})],1)])],1)},a=[],i=n("c7eb"),c=n("1da1"),s=(n("ac1f"),n("5319"),n("74e4")),o=n("ab94"),u=n("57eb"),l=n("77d2"),d=n("b775"),f=function(t){return Object(d["a"])({url:"/api/order-service/report/orderCount",params:t})},p=function(t){return Object(d["a"])({url:"/api/order-service/report/orderAmount",params:t})},v={components:{Button:o["a"],Dialog:u["a"],StateTop:s["a"]},data:function(){return{tableData:[{innerCode:"",type:"",node:"",vmStatus:"",status:""}],goodsSalesList:[],allOrderCount:"",allorderAmount:"",fixNum:"",supplyNum:"",pageInfo:{},page:1,visible:!1,disabled:!1,disabled2:!1}},created:function(){this.getmachineList()},methods:{query:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,Object(l["k"])({innerCode:t});case 3:r=n.sent,e.pageInfo=r.data,console.log(r.data),e.tableData=r.data.currentPageRecords;case 7:case"end":return n.stop()}}),n)})))()},details:function(t){this.visible=!0,this.getGoodsSales(t),this.getFixNum(t),this.getsupplyNum(t),this.getOrderCount(t),this.getorderAmount(t)},indexMethod:function(t){return t+1+10*(this.page-1)},getmachineList:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var n,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["k"])({pageIndex:t.page});case 2:n=e.sent,r=n.data,t.pageInfo=r,t.tableData=r.currentPageRecords;case 6:case"end":return e.stop()}}),e)})))()},lastPage:function(){this.page<=1?(this.page=1,this.disabled=!0):(this.page--,console.log(this.page),this.disabled2=!1,this.getmachineList())},nextPage:function(){this.page>=this.pageInfo.totalPage?(this.page=this.pageInfo.totalPage,this.disabled2=!0):(this.disabled=!1,this.page++,console.log(this.page),this.getmachineList())},getGoodsSales:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a,c;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.createTime.substr(0,10),a=e.dayjs().format("YYYY-MM-DD"),n.next=4,Object(l["g"])(t.innerCode,r,a,{vmType:t.type.typeId,nodeId:t.region.id,createUserId:t.node.createUserId});case 4:c=n.sent,e.goodsSalesList=c.data;case 6:case"end":return n.stop()}}),n)})))()},getFixNum:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a,c;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.createTime.substr(0,10),a=e.dayjs().format("YYYY-MM-DD"),n.next=4,Object(l["f"])(t.innerCode,r,a,{vmType:t.type.typeId,nodeId:t.region.id,createUserId:t.node.createUserId});case 4:c=n.sent,e.fixNum=c.data;case 6:case"end":return n.stop()}}),n)})))()},getsupplyNum:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a,c;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.createTime.substr(0,10),a=e.dayjs().format("YYYY-MM-DD"),n.next=4,Object(l["l"])(t.innerCode,r,a,{vmType:t.type.typeId,nodeId:t.region.id,createUserId:t.node.createUserId});case 4:c=n.sent,e.supplyNum=c.data;case 6:case"end":return n.stop()}}),n)})))()},getOrderCount:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a,c;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.createTime.replace("T"," "),a=e.dayjs().format("YYYY-MM-DD hh:mm:ss"),n.next=4,f({start:r,end:a,innerCode:t.innerCode});case 4:c=n.sent,e.allOrderCount=c.data;case 6:case"end":return n.stop()}}),n)})))()},getorderAmount:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a,c;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.createTime.replace("T"," "),a=e.dayjs().format("YYYY-MM-DD hh:mm:ss"),n.next=4,p({start:r,end:a,innerCode:t.innerCode});case 4:c=n.sent,e.allorderAmount=c.data;case 6:case"end":return n.stop()}}),n)})))()}}},b=v,m=(n("9c69"),n("2877")),h=Object(m["a"])(b,r,a,!1,null,"ecd43236",null);e["default"]=h.exports}}]);