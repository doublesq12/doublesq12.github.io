(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a999e1ee"],{1427:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.title}},[a("el-input",{attrs:{placeholder:"请输入",clearable:!0,maxlength:e.number,"show-word-limit":""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)},n=[],i={components:{},props:{title:{type:String,default:""},model:{type:String,default:""},number:{type:String,default:""},maxlength:{type:String,default:""},prop:{type:Array}},data:function(){return{input:""}},computed:{},watch:{input:{handler:function(e,t){this.$emit("update:model",e)}}},created:function(){},mounted:function(){},methods:{}},o=i,s=(a("e773"),a("2877")),c=Object(s["a"])(o,r,n,!1,null,"490c980f",null);t["a"]=c.exports},"1e92":function(e,t,a){},"209d":function(e,t,a){"use strict";a.r(t);var r,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"WorkOrder"},[a("el-form",{staticClass:"title-from",attrs:{"label-width":"80px","label-position":"right"},model:{value:e.searchFrom,callback:function(t){e.searchFrom=t},expression:"searchFrom"}},[a("Search",{ref:"search",staticClass:"title-searchs",attrs:{title:"人员搜索",model:e.searchFrom.userName},on:{"update:model":function(t){return e.$set(e.searchFrom,"userName",t)}}}),a("LsButton",{attrs:{title:"查询",icon:"el-icon-search"},on:{click:e.JobSearch}})],1)],1),a("div",[a("LsButton",{attrs:{icon:"el-icon-circle-plus-outline",color:"addBtn",title:"新建"},on:{click:e.redactsrc}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listste,lazy:!0,"empty-text":"暂无数据",type:"index"}},[a("el-table-column",{attrs:{prop:"date",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.redact(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(a){return e.onRemove(t.row)}}},[e._v("删除")])]}}])}),a("Tablecolumn",{attrs:{title:"序号",type:"index",pag:e.page.pageIndex}}),a("Tablecolumn",{attrs:{title:"人员名称",label:"userName"}}),a("Tablecolumn",{attrs:{title:"归属区域",label:"regionName"}}),a("Tablecolumn",{attrs:{title:"角色",label:"role.roleName"}}),a("Tablecolumn",{attrs:{title:"联系电话",label:"mobile"}})],1),a("div",{staticClass:"dataBtn"},[a("div",{staticClass:"Data"},[e._v(" 共"+e._s(e.page.totalCount)+"记录 第"+e._s(e.searchFrom.pageIndex)+"/"+e._s(e.page.totalPage)+"页 ")]),a("LsButton",{ref:"btn",attrs:{title:"上一页",disable:e.disable,color:"pag"},on:{click:e.PreviousPage}}),a("LsButton",{attrs:{title:"下一页",disable:e.disable1,color:"pag"},on:{click:e.NextPage}})],1),a("Information",{ref:"formData",attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}})],1)])},i=[],o=a("ade3"),s=a("c7eb"),c=a("1da1"),l=a("ab94"),u=a("1427"),m=a("8e16"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"60%",visible:e.visible,title:e.dialogTitle},on:{close:e.onClose}},[a("el-form",{ref:"deptForm",attrs:{"label-width":"120px",model:e.formData,rules:e.formDataRules}},[a("el-form-item",{attrs:{label:"人员名称：",prop:"userName"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入",maxlength:"5","show-word-limit":""},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName",t)},expression:"formData.userName"}})],1),a("el-form-item",{attrs:{label:"角色：",prop:"roleId"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"},model:{value:e.formData.roleId,callback:function(t){e.$set(e.formData,"roleId",t)},expression:"formData.roleId"}},e._l(e.peoples,(function(e,t){return a("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),a("el-form-item",{attrs:{label:"联系电话：",prop:"mobile"}},[a("el-input",{staticStyle:{wroleidth:"80%"},attrs:{placeholder:"请输入",maxlength:"11","show-word-limit":""},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),a("el-form-item",{attrs:{label:"负责区域：",prop:"regionName"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"},model:{value:e.formData.regionName,callback:function(t){e.$set(e.formData,"regionName",t)},expression:"formData.regionName"}},e._l(e.district,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"头像："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:" ","show-file-list":!1,"http-request":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formData.image?a("img",{staticClass:"avatar",attrs:{src:e.formData.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("div",{staticClass:"jpg-png"},[e._v("支持扩展名：jpg、png，文件不得大于100kb")])],1),a("el-form-item",{attrs:{label:"状态："}},[a("el-checkbox",{model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},[e._v("是否启用")])],1),a("el-form-item",[a("LsButton",{attrs:{title:"取消",color:"config"},on:{click:e.onClose}}),a("LsButton",{attrs:{title:"确认",color:"addBtn"},on:{click:e.onSelect}})],1)],1)],1)},f=[],p=a("4742"),b=a("e876"),h={data:function(){return{formData:{userName:"",regionName:"",mobile:"",image:"",roleId:"",regionId:"",status:!1},peoples:[],district:[],formDataRules:{userName:[{required:!0,message:"人员名称不能为空",trigger:"blur"}],roleId:[{required:!0,message:"角色不能为空",trigger:"blur"}],mobile:[{required:!0,message:"联系电话不能为空",trigger:"blur"}],regionName:[{required:!0,message:"负责区域不能为空",trigger:"blur"}]}}},props:{visible:{type:Boolean,required:!0}},components:{LsButton:l["a"]},computed:{dialogTitle:function(){return this.formData.id?"编辑部门":"添加部门"}},created:function(){this.getUserRoleApi1(),this.getUserRegionSearch()},methods:{handleAvatarSuccess:function(e){var t=this;return Object(c["a"])(Object(s["a"])().mark((function a(){var r,n,i;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new FormData,r.append("fileName",e.file),a.next=4,Object(b["a"])(r);case 4:n=a.sent,i=n.data,t.formData.image=i;case 7:case"end":return a.stop()}}),a)})))()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},onClose:function(){this.$emit("update:visible",!1),this.$refs.deptForm.resetFields(),this.formData={userName:"",regionName:"",mobile:"",image:"",roleId:"",status:!1,regionId:""}},onSelect:function(e){var t=this;return Object(c["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.deptForm.validate();case 2:return e.next=4,Object(p["g"])(t.formData);case 4:a=e.sent,console.log(a);case 6:case"end":return e.stop()}}),e)})))()},getUserRoleApi1:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["e"])();case 2:a=t.sent,r=a.data,e.peoples=r;case 5:case"end":return t.stop()}}),t)})))()},getUserRegionSearch:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["d"])();case 2:a=t.sent,r=a.data,e.district=r.currentPageRecords;case 5:case"end":return t.stop()}}),t)})))()}}},g=h,v=(a("d193"),a("2877")),x=Object(v["a"])(g,d,f,!1,null,"181cd08b",null),w=x.exports,j=(r={components:{LsButton:l["a"],Search:u["a"],Tablecolumn:m["a"],Information:w},data:function(){return{page:{},listste:[],disable:!0,disable1:!1,dialogVisible:!1,searchFrom:{pageIndex:1,userName:""}}}},Object(o["a"])(r,"components",{LsButton:l["a"],Search:u["a"],Tablecolumn:m["a"],Information:w}),Object(o["a"])(r,"computed",{}),Object(o["a"])(r,"watch",{}),Object(o["a"])(r,"created",(function(){this.getUserId()})),Object(o["a"])(r,"mounted",(function(){})),Object(o["a"])(r,"methods",{getUserId:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["c"])(e.searchFrom);case 2:a=t.sent,r=a.data,e.listste=r.currentPageRecords,e.page=r;case 6:case"end":return t.stop()}}),t)})))()},NextPage:function(){if(this.searchFrom.pageIndex<this.page.totalPage)return this.searchFrom.pageIndex++,this.disable=!1,this.getUserId();this.disable1=!0},PreviousPage:function(){if(this.searchFrom.pageIndex>1)return this.searchFrom.pageIndex--,this.getUserId();this.disable=!0},JobSearch:function(){var e=this;return Object(c["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchFrom.pageIndex=1,t.next=3,e.getUserId();case 3:case"end":return t.stop()}}),t)})))()},redact:function(e){this.$refs.formData.formData,this.dialogVisible=!0,this.$refs.formData.formData.regionName=e.regionName,this.$refs.formData.formData.mobile=e.mobile,this.$refs.formData.formData.image=e.image,this.$refs.formData.formData.status=e.status,this.$refs.formData.formData.roleId=e.roleId,this.$refs.formData.formData.userName=e.userName,this.$refs.formData.formData.regionId=e.regionId},redactsrc:function(){this.dialogVisible=!0},onRemove:function(e){var t=this;return Object(c["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("此操作将永久删除该人员, 是否继续?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"});case 3:return a.next=5,Object(p["a"])(e.id);case 5:t.$message.success("删除成功"),t.getUserId(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}}),r),O=j,D=(a("4fa0"),Object(v["a"])(O,n,i,!1,null,"7409af9c",null));t["default"]=D.exports},"22a1":function(e,t,a){},4742:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"g",(function(){return l})),a.d(t,"b",(function(){return u}));var r=a("b775"),n=function(e){return Object(r["a"])({url:"/api/user-service/user/search",params:e})},i=function(e){return Object(r["a"])({url:"/api/user-service/user/searchUserWork",params:e})},o=function(e){return Object(r["a"])({url:"/api/user-service/role",params:e})},s=function(e){return Object(r["a"])({url:"/api/vm-service/region/search",params:e})},c=function(e){return Object(r["a"])({url:"/api/user-service/user/"+e,method:"DELETE"})},l=function(e){return Object(r["a"])({url:"/api/user-service/user/".concat(e.id),method:"PUT",data:e})},u=function(e){return Object(r["a"])({url:"/api/user-service/user/operatorList/"+e})}},"4fa0":function(e,t,a){"use strict";a("7eee")},7217:function(e,t,a){"use strict";a("22a1")},"7eee":function(e,t,a){},"8e16":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.img?e._e():a("el-table-column",{attrs:{prop:e.label,label:e.title,type:e.type,index:e.indexmethod}},[e._t("default")],2),e.img?a("el-table-column",{attrs:{prop:e.label,label:e.title,type:e.type,index:e.indexmethod},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e.row.skuImage}})]}}],null,!1,3073901032)}):e._e()],1)},n=[],i={components:{},props:{title:{type:String,required:!1},label:{type:String,required:!1},type:{type:String,required:!1},pag:{type:String},img:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{indexmethod:function(e){return this.pag+e-9}}},o=i,s=a("2877"),c=Object(s["a"])(o,r,n,!1,null,"be37c312",null);t["a"]=c.exports},ab94:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-button",{staticClass:"search",class:e.color,attrs:{disabled:e.disable,type:"primary",icon:e.icon},nativeOn:{click:function(t){return e.btn(t)}}},[e._v(e._s(e.title))])},n=[],i={components:{},props:{color:{type:String,default:"search"},title:{type:String,default:"搜索"},icon:{type:String,default:"icon"},disable:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{btn:function(){this.$emit("click")}}},o=i,s=(a("7217"),a("2877")),c=Object(s["a"])(o,r,n,!1,null,"53ec6d56",null);t["a"]=c.exports},d193:function(e,t,a){"use strict";a("dd39")},dd39:function(e,t,a){},e773:function(e,t,a){"use strict";a("1e92")},e876:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("b775"),n=function(e){return Object(r["a"])({method:"POST",url:"/api/vm-service/sku/fileUpload",data:e})}}}]);